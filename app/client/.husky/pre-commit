#!/bin/sh
. "$(dirname "$0")/_/husky.sh"
exit 1
echo 'Woof! 🐶'

# Prettier
echo ''
echo 'Checking for formatting problems. 🧪'
npm run format-check || (
    echo ''
    echo "Prettier check failed, formatting code. 🙁";
    echo ''
    npm run format
)

# ESLint
echo ''
echo 'Checking for linting problems. 🧪'
npm run lint --fix || (
    echo ''
    echo "ESLint check failed, we'll get 'em next time. Make the required changes listed above, add changes and try to commit again. ☹️"
    echo ''
    false;
)

# tsconfig
echo ''
echo 'Checking for TypeScript errors. 🧪'
npm run type-check || (
    echo ''
    echo "Failed type check, we'll get 'em next time. Make the required changes listed above, add changes and try to commit again. 🙃"
    false;
)

echo ''
echo 'The code looks good to me! Commiting changes. 🥺🥳🚪🏃💨🚀🌑'
echo ''